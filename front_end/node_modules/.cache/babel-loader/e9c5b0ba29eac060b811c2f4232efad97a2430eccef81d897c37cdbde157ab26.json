{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documentos\\\\OCTAVO SEMESTRE\\\\MicafeUmes2.0\\\\Micafe\\\\front_end\\\\src\\\\pages\\\\productEdit.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductEdit = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [product, setProduct] = useState({\n    product_name: '',\n    price: '',\n    image: null,\n    description: '',\n    category: ''\n  });\n  useEffect(() => {\n    const fetchProduct = async () => {\n      try {\n        const response = await fetch(`http://localhost:8000/api/products/${id}`);\n        if (response.ok) {\n          const data = await response.json();\n          setProduct(data);\n        } else {\n          alert('Error al obtener el producto. Por favor, inténtalo de nuevo.');\n        }\n      } catch (error) {\n        console.error('Error en la solicitud:', error);\n        alert('Ocurrió un error al obtener el producto. Por favor, inténtalo de nuevo más tarde.');\n      }\n    };\n    fetchProduct();\n  }, [id]);\n  const handleSaveChanges = async () => {\n    try {\n      const formData = new FormData();\n      formData.append('product_name', product.product_name);\n      formData.append('price', product.price);\n      formData.append('description', product.description);\n      formData.append('image', product.image);\n      formData.append('category', product.category);\n      const response = await fetch(`http://localhost:8000/api/products/${id}`, {\n        method: 'PUT',\n        body: formData\n      });\n      if (response.ok) {\n        alert('Cambios guardados exitosamente');\n        navigate('/products');\n      } else {\n        alert('Error al guardar los cambios. Por favor, inténtalo de nuevo.');\n      }\n    } catch (error) {\n      console.error('Error en la solicitud:', error);\n      alert('Ocurrió un error al guardar los cambios. Por favor, inténtalo de nuevo más tarde.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSaveChanges,\n      children: \"Guardar Cambios\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductEdit, \"qgQTUNEnWGLj+aEwxJ0qudKQDbc=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ProductEdit;\nexport default ProductEdit;\nvar _c;\n$RefreshReg$(_c, \"ProductEdit\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","jsxDEV","_jsxDEV","ProductEdit","_s","id","navigate","product","setProduct","product_name","price","image","description","category","fetchProduct","response","fetch","ok","data","json","alert","error","console","handleSaveChanges","formData","FormData","append","method","body","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Documentos/OCTAVO SEMESTRE/MicafeUmes2.0/Micafe/front_end/src/pages/productEdit.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\n\nconst ProductEdit = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [product, setProduct] = useState({\n    product_name: '',\n    price: '',\n    image: null,\n    description: '',\n    category: '',\n   \n  });\n\n  useEffect(() => {\n    const fetchProduct = async () => {\n      try {\n        const response = await fetch(`http://localhost:8000/api/products/${id}`);\n        if (response.ok) {\n          const data = await response.json();\n          setProduct(data);\n        } else {\n          alert('Error al obtener el producto. Por favor, inténtalo de nuevo.');\n        }\n      } catch (error) {\n        console.error('Error en la solicitud:', error);\n        alert('Ocurrió un error al obtener el producto. Por favor, inténtalo de nuevo más tarde.');\n      }\n    };\n\n    fetchProduct();\n  }, [id]);\n\n  const handleSaveChanges = async () => {\n    try {\n      const formData = new FormData();\n      formData.append('product_name', product.product_name);\n      formData.append('price', product.price);\n      formData.append('description', product.description);\n      formData.append('image', product.image);\n      formData.append('category', product.category);\n\n      const response = await fetch(`http://localhost:8000/api/products/${id}`, {\n        method: 'PUT',\n        body: formData,\n      });\n\n      if (response.ok) {\n        alert('Cambios guardados exitosamente');\n        navigate('/products');\n      } else {\n        alert('Error al guardar los cambios. Por favor, inténtalo de nuevo.');\n      }\n    } catch (error) {\n      console.error('Error en la solicitud:', error);\n      alert('Ocurrió un error al guardar los cambios. Por favor, inténtalo de nuevo más tarde.');\n    }\n  };\n\n  return (\n    <div>\n      {/* Resto del código de tu componente */}\n      <button onClick={handleSaveChanges}>Guardar Cambios</button>\n    </div>\n  );\n};\n\nexport default ProductEdit;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}